
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Laurent KempÃ©">
    <title>Debugging Dapr applications with Rider or Visual Studio: A better way - Laurent KempÃ©</title>
    <meta name="author" content="Laurent KempÃ©">
    
    
    
        
            <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
        
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Laurent KempÃ©","sameAs":["https://github.com/laurentkempe","https://twitter.com/laurentkempe","https://www.linkedin.com/in/laurentkempe","https://flickr.com/photos/laurentkempe/"],"image":"https://farm2.staticflickr.com/1971/31306281378_02b055ccfe_q.jpg"},"articleBody":"Dapr is an impressive set of APIs for building distributed applications with any language and platform. It provides a set of building blocks that you can use to build microservices. Dapr is based on sidecar architecture. Meaning that you need to run a Dapr sidecar for each of your applications. How do you debug your Dapr apps effectively? If you have been using PowerShell scripts to run and attach your debugger, you know how tedious and error-prone it can be. Ready to see how to use Rider or Visual Studio to debug your Dapr apps with ease and confidence?\n\n\nRunning Dapr applicationTo run the Dapr application, you need to use the Dapr CLI and define some parameters like the application name and port, the location of the definition of the Dapr components, and the command line to run your application. It looks something like this for a .NET application.\n1dapr run --app-id dapr-service --resources-path ../../dapr/components/ --app-port 5190 -- dotnet run --project .\n\nHow can you debug your application? It is the Dapr sidecar that is starting your application. You want to attach the debugger to your application, not to the Dapr sidecar. You can use the IDE Attach to process feature. This is not convenient, but it works.\nDebugging Dapr application a better wayAnother way is to leverage Debugger.Launch() and nest it in a #if DEBUG C# preprocessor directive. This way, the code is compiled only when you are in debug mode. Place those three lines in your application entry point. A good place is in the Program.cs file.\n123#if DEBUGDebugger.Launch();#endif\n\nDebugger.Launch(), as its name implies, will launch and attach a debugger to the process.\nSolution for Rider and Visual StudioIn Rider and Visual Studio, you can leverage the launchSettings.json and add one entry to its profiles to run the Dapr CLI command and your application.\n123456&quot;dapr&quot;: &#123;  &quot;commandName&quot;: &quot;Executable&quot;,  &quot;workingDirectory&quot;: &quot;$(ProjectDir)&quot;,  &quot;executablePath&quot;: &quot;dapr.exe&quot;,  &quot;commandLineArgs&quot;: &quot;run --app-id dapr-service --resources-path ../dapr/components/ --app-port 5190 -- dotnet run --project .&quot;&#125;\n\nIt is nice to note that we can use MSBuild properties like $(ProjectDir) to define the project path as the working directory. \nThe good thing about that approach is that this can be shared in a team through the source control system. You can also use the launchSettings.json to run your application without Dapr with another profile.\n123456789&quot;http&quot;: &#123;  &quot;commandName&quot;: &quot;Project&quot;,  &quot;dotnetRunMessages&quot;: true,  &quot;launchBrowser&quot;: true,  &quot;applicationUrl&quot;: &quot;http://localhost:5190&quot;,  &quot;environmentVariables&quot;: &#123;    &quot;ASPNETCORE_ENVIRONMENT&quot;: &quot;Development&quot;  &#125;&#125;\n\nNow you can run your application with Dapr or without Dapr using the IDE Run&#x2F;Debug configuration.\nDebugging configuration for RiderWe need to set Rider as the default debugger. We can do that by going to Settings and then Build, Execution, Deployment and then Debugger. In the popping dialog, click the button Set Rider as the default debugger and follow the instructions.\n\nNow, we can select the Run&#x2F;Debug configuration Service: dapr and either Run (CTRL+F5) or Debug (F5).\n\nOr press the CTRL key two times to use Rider Run Anything. Then type dapr to select the Run&#x2F;Debug configuration.\n\nThe Dapr sidecar starts, the sidecar starts your application, and the Rider Just-ln-Time Debugger dialog popups. Select your project and tick Remember executable in solution. This creates a new run configuration in the selected solution with the target executable. Next time, if a solution is open with such a run configuration, this solution will be chosen automatically. Meaning that from the second time you start with the Dapr profile, you wonâ€™t even see the Rider Just-ln-Time Debugger dialog.\n\nAfter that, click the Select Button, and the debugger will be attached to the process and will break on the line Debugger.Launch(), and you can happily debug your application ðŸ˜ƒ.\n\nOn the next debugging session, the Just-ln-Time Debugger dialog will not pop up anymore. You will be able to debug your application directly.\nDapr sidecar and application outputs are displayed in the Rider Debug Output window if started in Debug. Or, in the Rider Run Console if started without Debug. That is fantastic because you do not need to switch between windows to see the outputs.\nDebugging configuration for Visual StudioIf you set Rider as the default debugger, you need to reset those settings from the Rider settings dialog.\n\n\nIn Visual Studio, you can select the Launch profile dapr and must use Run (CTRL+F5). \n\nA command window will open, followed by the Visual Studio Choose Just-ln-Time Debugger dialog. Select your project from the Available Debuggers. \n\nYou will hit then also the Debugger.Launch() breakpoint, and you can debug your application.\n\nThere are two drawbacks to Visual Studio\n\nThe Choose Just-ln-Time Debugger dialog will open every time, and you must select the project each time.\nA shell window will open on your desktop.\n\nAlternative solution for RiderUsing Rider, you can create a Shell Script Run&#x2F;Debug configuration.\n\nUsing Script text specifying the Dapr CLI command to run the application. We set the Working directory to the directory in which the service is located. And we define the Run&#x2F;Debug Name as dapr. Finally, we tick Store as project file to share this run configuration with other developers.\n\nWe can select and start the dapr Run&#x2F;Debug configuration. The Dapr sidecar will start, and the application will start. Then debugger will be attached to the process, and we can debug our application ðŸ˜€.\nConclusionIn this post, we have seen how to debug a Dapr application. We have seen that we can use Debugger.Launch() and nest it in a #if DEBUG C# preprocessor directive. We have seen that we can use the launchSettings.json to run our application with Dapr or without Dapr. We have seen how to configure Rider and Visual Studio to debug our application with Dapr.\nCodeThe code for this post is available on my project daprPlayground &#x2F; EaseDaprDebugging .\n\n\n  \n\n\n\n\nReferences\nDapr.io\nDebugger.Launch Method\nMy blog post series about Dapr\n\n","dateCreated":"2023-02-27T12:07:46+00:00","dateModified":"2023-03-01T04:40:12+00:00","datePublished":"2023-02-27T12:07:46+00:00","description":"Dapr is an impressive set of APIs for building distributed applications with any language and platform. It provides a set of building blocks that you can use to build microservices. Dapr is based on sidecar architecture. Meaning that you need to run a Dapr sidecar for each of your applications. How do you debug your Dapr apps effectively? If you have been using PowerShell scripts to run and attach your debugger, you know how tedious and error-prone it can be. Ready to see how to use Rider or Visual Studio to debug your Dapr apps with ease and confidence?","headline":"Debugging Dapr applications with Rider or Visual Studio: A better way","image":["https://live.staticflickr.com/4662/25053526657_b5a7c23594_q.jpg","https://live.staticflickr.com/4662/25053526657_0240dbf766_h.jpg"],"mainEntityOfPage":{"@type":"WebPage","@id":"https://laurentkempe.com/2023/02/27/debugging-dapr-applications-with-rider-or-visual-studio-a-better-way/"},"publisher":{"@type":"Organization","name":"Laurent KempÃ©","sameAs":["https://github.com/laurentkempe","https://twitter.com/laurentkempe","https://www.linkedin.com/in/laurentkempe","https://flickr.com/photos/laurentkempe/"],"image":"https://farm2.staticflickr.com/1971/31306281378_02b055ccfe_q.jpg","logo":{"@type":"ImageObject","url":"https://farm2.staticflickr.com/1971/31306281378_02b055ccfe_q.jpg"}},"url":"https://laurentkempe.com/2023/02/27/debugging-dapr-applications-with-rider-or-visual-studio-a-better-way/","keywords":"Rider, .NET, Dapr, VisualStudio","thumbnailUrl":"https://live.staticflickr.com/4662/25053526657_b5a7c23594_q.jpg"}</script>
    <meta name="description" content="Dapr is an impressive set of APIs for building distributed applications with any language and platform. It provides a set of building blocks that you can use to build microservices. Dapr is based on s">
<meta property="og:type" content="blog">
<meta property="og:title" content="Debugging Dapr applications with Rider or Visual Studio: A better way">
<meta property="og:url" content="https://laurentkempe.com/2023/02/27/debugging-dapr-applications-with-rider-or-visual-studio-a-better-way/index.html">
<meta property="og:site_name" content="Laurent KempÃ©">
<meta property="og:description" content="Dapr is an impressive set of APIs for building distributed applications with any language and platform. It provides a set of building blocks that you can use to build microservices. Dapr is based on s">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://laurentkempe.com/images/SetRiderAsDefaultDebugger.png">
<meta property="og:image" content="https://laurentkempe.com/images/RiderRunDebugConfiguration.png">
<meta property="og:image" content="https://laurentkempe.com/images/RiderRunAnything.png">
<meta property="og:image" content="https://laurentkempe.com/images/RiderJITDebuggerLauncher64.png">
<meta property="og:image" content="https://laurentkempe.com/images/DebuggerLaunchHit.png">
<meta property="og:image" content="https://laurentkempe.com/images/VSRunConfiguration.png">
<meta property="og:image" content="https://laurentkempe.com/images/vsjitdebugger.png">
<meta property="og:image" content="https://laurentkempe.com/images/VSDebuggerLaunchHit.png">
<meta property="og:image" content="https://laurentkempe.com/images/RiderRunDebugConfigurationShell.png">
<meta property="og:image" content="https://laurentkempe.com/images/RiderDaprScriptText.png">
<meta property="article:published_time" content="2023-02-27T12:07:46.000Z">
<meta property="article:modified_time" content="2023-03-01T04:40:12.249Z">
<meta property="article:author" content="Laurent KempÃ©">
<meta property="article:tag" content="Rider">
<meta property="article:tag" content=".NET">
<meta property="article:tag" content="Dapr">
<meta property="article:tag" content="VisualStudio">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://laurentkempe.com/images/SetRiderAsDefaultDebugger.png">
<meta name="twitter:creator" content="@laurentkempe">
    
    
        
    
    
        <meta property="og:image" content="https://farm2.staticflickr.com/1971/31306281378_02b055ccfe_q.jpg"/>
    
    
        <meta property="og:image" content="https://live.staticflickr.com/4662/25053526657_b5a7c23594_q.jpg"/>
        <meta class="swiftype" name="image" data-type="enum" content="https://live.staticflickr.com/4662/25053526657_b5a7c23594_q.jpg"/>
    
    
        <meta property="og:image" content="https://live.staticflickr.com/4662/25053526657_0240dbf766_h.jpg"/>
        <meta class="swiftype" name="image" data-type="enum" content="https://live.staticflickr.com/4662/25053526657_0240dbf766_h.jpg"/>
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/style-4ozeidhlapguyh0lz3pwsx3htktxbdvy9inrjmwygtkbigjkwnsthdvyk9f4.min.css">

    <!--STYLES END-->
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-64298-8"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-64298-8');
    </script>


    

    
        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="5">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            Laurent KempÃ©
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="Open the link: /#about"
            >
        
        
            <img class="header-picture" src="https://farm2.staticflickr.com/1971/31306281378_02b055ccfe_q.jpg" alt="Author&#39;s picture"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="5">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="Read more about the author"
                >
                    <img class="sidebar-profile-picture" src="https://farm2.staticflickr.com/1971/31306281378_02b055ccfe_q.jpg" alt="Author&#39;s picture"/>
                </a>
                <h4 class="sidebar-profile-name">Laurent KempÃ©</h4>
                
                    <h5 class="sidebar-profile-bio"><p>I am an experienced Team Leader &amp; Distinguished Solution Architect with a passion for shipping high-quality products by empowering development team and culture toward an agile mindset. I bring technical vision and strategy, leading engineering teams to move product, processes and architecture forward.</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="Archives"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/presentations.html"
                            
                            rel="noopener"
                            title="Presentations"
                        >
                        <i class="sidebar-button-icon fa fa-file-powerpoint" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Presentations</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/about-laurent-kempe.html"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/laurentkempe"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://twitter.com/laurentkempe"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Twitter"
                        >
                        <i class="sidebar-button-icon fab fa-twitter" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Twitter</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.linkedin.com/in/laurentkempe"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="LinkedIn"
                        >
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://flickr.com/photos/laurentkempe/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Flickr"
                        >
                        <i class="sidebar-button-icon fab fa-flickr" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Flickr</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="Tags"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="http://feeds.feedburner.com/laurentkempe"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
        <div class="post-header-cover
                    text-left
                    post-header-cover--partial"
             style="background-image:url('https://live.staticflickr.com/4662/25053526657_0240dbf766_h.jpg');"
             data-behavior="5">
            
                <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            Debugging Dapr applications with Rider or Visual Studio: A better way
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2023-02-27T12:07:46+00:00">
	
		    Feb 27, 2023
    	
    </time>
    
</div>

    
</div>

            
        </div>

            <div id="main" data-behavior="5"
                 class="hasCover
                        hasCoverMetaIn
                        hasCoverCaption">
                
<article class="post">
    
        <span class="post-header-cover-caption caption">Tahiti, PolynÃ©sie, France, MoÊ»orea island in the back</span>
    
    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <p>Dapr is an impressive set of APIs for building distributed applications with any language and platform. It provides a set of building blocks that you can use to build microservices. Dapr is based on sidecar architecture. Meaning that you need to run a Dapr sidecar for each of your applications. <strong>How do you debug your Dapr apps effectively?</strong> If you have been using PowerShell scripts to run and attach your debugger, you know how tedious and error-prone it can be. Ready to see how to use Rider or Visual Studio to debug your Dapr apps with ease and confidence?</p>
<span id="more"></span>

<h1 id="Running-Dapr-application"><a href="#Running-Dapr-application" class="headerlink" title="Running Dapr application"></a>Running Dapr application</h1><p>To run the Dapr application, you need to use the Dapr CLI and define some parameters like the application name and port, the location of the definition of the Dapr components, and the command line to run your application. It looks something like this for a .NET application.</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dapr run <span class="literal">--app-id</span> dapr<span class="literal">-service</span> <span class="literal">--resources-path</span> ../../dapr/components/ <span class="literal">--app-port</span> <span class="number">5190</span> <span class="literal">--</span> dotnet run <span class="literal">--project</span> .</span><br></pre></td></tr></table></figure>

<p>How can you debug your application? It is the Dapr sidecar that is starting your application. You want to attach the debugger to your application, not to the Dapr sidecar. You can use the IDE <code>Attach to process</code> feature. This is not convenient, but it works.</p>
<h1 id="Debugging-Dapr-application-a-better-way"><a href="#Debugging-Dapr-application-a-better-way" class="headerlink" title="Debugging Dapr application a better way"></a>Debugging Dapr application a better way</h1><p>Another way is to leverage <code>Debugger.Launch()</code> and nest it in a <code>#if DEBUG</code> C# preprocessor directive. This way, the code is compiled only when you are in debug mode. Place those three lines in your application entry point. A good place is in the <code>Program.cs</code> file.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">if</span> DEBUG</span></span><br><span class="line">Debugger.Launch();</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>

<p><code>Debugger.Launch()</code>, as its name implies, will launch and attach a debugger to the process.</p>
<h2 id="Solution-for-Rider-and-Visual-Studio"><a href="#Solution-for-Rider-and-Visual-Studio" class="headerlink" title="Solution for Rider and Visual Studio"></a>Solution for Rider and Visual Studio</h2><p>In Rider and Visual Studio, you can leverage the <code>launchSettings.json</code> and add one entry to its <code>profiles</code> to run the Dapr CLI command and your application.</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;dapr&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;commandName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Executable&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;workingDirectory&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$(ProjectDir)&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;executablePath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;dapr.exe&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;commandLineArgs&quot;</span><span class="punctuation">:</span> <span class="string">&quot;run --app-id dapr-service --resources-path ../dapr/components/ --app-port 5190 -- dotnet run --project .&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>It is nice to note that we can use MSBuild properties like <code>$(ProjectDir)</code> to define the project path as the working directory. </p>
<p>The good thing about that approach is that <strong>this can be shared in a team through the source control system</strong>. You can also use the <code>launchSettings.json</code> to run your application without Dapr with another profile.</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;http&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;commandName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Project&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;dotnetRunMessages&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;launchBrowser&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;applicationUrl&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http://localhost:5190&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;environmentVariables&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;ASPNETCORE_ENVIRONMENT&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Development&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>Now you can run your application with Dapr or without Dapr using the IDE Run&#x2F;Debug configuration.</p>
<h2 id="Debugging-configuration-for-Rider"><a href="#Debugging-configuration-for-Rider" class="headerlink" title="Debugging configuration for Rider"></a>Debugging configuration for Rider</h2><p>We need to set Rider as the default debugger. We can do that by going to <em>Settings</em> and then <em>Build, Execution, Deployment</em> and then <em>Debugger</em>. In the popping dialog, click the button <em>Set Rider as the default debugger</em> and follow the instructions.</p>
<p><img src="/images/SetRiderAsDefaultDebugger.png" alt="Set Rider As Default Debugger"></p>
<p>Now, we can select the Run&#x2F;Debug configuration <strong>Service: dapr</strong> and either Run (CTRL+F5) or Debug (F5).</p>
<p><img src="/images/RiderRunDebugConfiguration.png" alt="RiderRunDebugConfiguration.png"></p>
<p>Or press the CTRL key two times to use Rider Run Anything. Then type <code>dapr</code> to select the Run&#x2F;Debug configuration.</p>
<p><img src="/images/RiderRunAnything.png" alt="Rider Run Anything"></p>
<p>The Dapr sidecar starts, the sidecar starts your application, and the Rider <em>Just-ln-Time Debugger</em> dialog popups. Select your project and tick <em>Remember executable in solution</em>. This creates a new run configuration in the selected solution with the target executable. Next time, if a solution is open with such a run configuration, this solution will be chosen automatically. Meaning that from the second time you start with the Dapr profile, you wonâ€™t even see the Rider <em>Just-ln-Time Debugger</em> dialog.</p>
<p><img src="/images/RiderJITDebuggerLauncher64.png" alt="Rider Just In Time Debugger"></p>
<p>After that, click the Select <em>Button</em>, and the debugger will be attached to the process and will break on the line <code>Debugger.Launch()</code>, and you can happily debug your application ðŸ˜ƒ.</p>
<p><img src="/images/DebuggerLaunchHit.png" alt="Debugger Launch Hit"></p>
<p>On the next debugging session, the <em>Just-ln-Time Debugger</em> dialog will not pop up anymore. You will be able to debug your application directly.</p>
<p>Dapr sidecar and application outputs are displayed in the Rider Debug Output window if started in Debug. Or, in the Rider Run Console if started without Debug. That is fantastic because you do not need to switch between windows to see the outputs.</p>
<h2 id="Debugging-configuration-for-Visual-Studio"><a href="#Debugging-configuration-for-Visual-Studio" class="headerlink" title="Debugging configuration for Visual Studio"></a>Debugging configuration for Visual Studio</h2><div class="alert warning"><p>If you set Rider as the default debugger, you need to reset those settings from the Rider settings dialog.</p>
</div>

<p>In Visual Studio, you can select the <em>Launch profile</em> <strong>dapr</strong> and <strong>must use Run (CTRL+F5)</strong>. </p>
<p><img src="/images/VSRunConfiguration.png" alt="VSRunConfiguration.png"></p>
<p>A command window will open, followed by the Visual Studio <em>Choose Just-ln-Time Debugger</em> dialog. Select your project from the <em>Available Debuggers</em>. </p>
<p><img src="/images/vsjitdebugger.png" alt="vsjitdebugger.png"></p>
<p>You will hit then also the <code>Debugger.Launch()</code> breakpoint, and you can debug your application.</p>
<p><img src="/images/VSDebuggerLaunchHit.png" alt="Visual Studio Debugger Launch Hit"></p>
<p>There are two drawbacks to Visual Studio</p>
<ol>
<li>The <em>Choose Just-ln-Time Debugger</em> dialog will open every time, and you must select the project each time.</li>
<li>A shell window will open on your desktop.</li>
</ol>
<h2 id="Alternative-solution-for-Rider"><a href="#Alternative-solution-for-Rider" class="headerlink" title="Alternative solution for Rider"></a>Alternative solution for Rider</h2><p>Using Rider, you can create a <em>Shell Script</em> Run&#x2F;Debug configuration.</p>
<p><img src="/images/RiderRunDebugConfigurationShell.png" alt="Rider Run/Debug Configuration Shell"></p>
<p>Using <em>Script text</em> specifying the Dapr CLI command to run the application. We set the <em>Working directory</em> to the directory in which the service is located. And we define the Run&#x2F;Debug <em>Name</em> as <strong>dapr</strong>. Finally, we tick <em>Store as project file</em> to share this run configuration with other developers.</p>
<p><img src="/images/RiderDaprScriptText.png" alt="Rider Dapr ScriptText"></p>
<p>We can select and start the <code>dapr</code> Run&#x2F;Debug configuration. The Dapr sidecar will start, and the application will start. Then debugger will be attached to the process, and we can debug our application ðŸ˜€.</p>
<h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>In this post, we have seen how to debug a Dapr application. We have seen that we can use <code>Debugger.Launch()</code> and nest it in a <code>#if DEBUG</code> C# preprocessor directive. We have seen that we can use the <code>launchSettings.json</code> to run our application with Dapr or without Dapr. We have seen how to configure Rider and Visual Studio to debug our application with Dapr.</p>
<h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><p>The code for this post is available on my project <a target="_blank" rel="noopener" href="https://github.com/laurentkempe/daprPlayground/tree/master/EaseDaprDebugging">daprPlayground &#x2F; EaseDaprDebugging </a>.</p>
<p></p>
<div style="text-align: left">
  <div class="github-card"
    data-user="laurentkempe"
    data-repo="daprPlayground"
    data-height="200"
    data-width="400"
    data-theme="default"
    data-target=""
    data-client-id=""
    data-client-secret=""
  ></div>
</div>
<script src="/github-card-lib/githubcard.js"></script>


<h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><ul>
<li><a target="_blank" rel="noopener" href="https://dapr.io/">Dapr.io</a></li>
<li><a target="_blank" rel="noopener" href="https://learn.microsoft.com/en-us/dotnet/api/system.diagnostics.debugger.launch?view=net-7.0">Debugger.Launch Method</a></li>
<li><a href="https://laurentkempe.com/tags/Dapr/">My blog post series about Dapr</a></li>
</ul>

            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="/tags/NET/" rel="tag">.NET</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/Dapr/" rel="tag">Dapr</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/Rider/" rel="tag">Rider</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/VisualStudio/" rel="tag">VisualStudio</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a
                        class="post-action-btn btn btn--disabled"
                        aria-hidden="true"
                    >
                        
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2023/02/20/refactoring-huge-csharp-code-base-in-minutes/"
                    data-tooltip="Refactoring huge C# code base in minutes"
                    aria-label="NEXT: Refactoring huge C# code base in minutes"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://laurentkempe.com/2023/02/27/debugging-dapr-applications-with-rider-or-visual-studio-a-better-way/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://laurentkempe.com/2023/02/27/debugging-dapr-applications-with-rider-or-visual-studio-a-better-way/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://laurentkempe.com/2023/02/27/debugging-dapr-applications-with-rider-or-visual-studio-a-better-way/"
                    title="global.share_on_linkedin"
                    aria-label="global.share_on_linkedin"
                >
                    <i class="fab fa-linkedin" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#disqus_thread"
                        aria-label="Leave a comment"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
                <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2023 Laurent KempÃ©. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a
                        class="post-action-btn btn btn--disabled"
                        aria-hidden="true"
                    >
                        
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2023/02/20/refactoring-huge-csharp-code-base-in-minutes/"
                    data-tooltip="Refactoring huge C# code base in minutes"
                    aria-label="NEXT: Refactoring huge C# code base in minutes"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://laurentkempe.com/2023/02/27/debugging-dapr-applications-with-rider-or-visual-studio-a-better-way/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://laurentkempe.com/2023/02/27/debugging-dapr-applications-with-rider-or-visual-studio-a-better-way/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://laurentkempe.com/2023/02/27/debugging-dapr-applications-with-rider-or-visual-studio-a-better-way/"
                    title="global.share_on_linkedin"
                    aria-label="global.share_on_linkedin"
                >
                    <i class="fab fa-linkedin" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#disqus_thread"
                        aria-label="Leave a comment"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="5">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://laurentkempe.com/2023/02/27/debugging-dapr-applications-with-rider-or-visual-studio-a-better-way/"
                        aria-label="Share on Facebook"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Share on Facebook</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://laurentkempe.com/2023/02/27/debugging-dapr-applications-with-rider-or-visual-studio-a-better-way/"
                        aria-label="Share on Twitter"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Share on Twitter</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://laurentkempe.com/2023/02/27/debugging-dapr-applications-with-rider-or-visual-studio-a-better-way/"
                        aria-label="global.share_on_linkedin"
                    >
                        <i class="fab fa-linkedin" aria-hidden="true"></i><span>global.share_on_linkedin</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="https://farm2.staticflickr.com/1971/31306281378_02b055ccfe_q.jpg" alt="Author&#39;s picture"/>
        
            <h4 id="about-card-name">Laurent KempÃ©</h4>
        
            <div id="about-card-bio"><p>I am an experienced Team Leader &amp; Distinguished Solution Architect with a passion for shipping high-quality products by empowering development team and culture toward an agile mindset. I bring technical vision and strategy, leading engineering teams to move product, processes and architecture forward.</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Team Leader, Distinguished Solutions Architect</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br/>
                Illzach, France
            </div>
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('https://farm5.staticflickr.com/4437/37116073235_dda239221d_o.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/script-5mupchjmt9lffmd1nzxl7ekkwxhhy9orrmpd1eivejqn2m1frxmrulfr8nrm.min.js"></script>

<!--SCRIPTS END-->


    
        <script>
          var disqus_config = function() {
            this.page.url = 'https://laurentkempe.com/2023/02/27/debugging-dapr-applications-with-rider-or-visual-studio-a-better-way/';
              
            this.page.identifier = '20230227010746';
              
          };
          (function() {
            var d = document, s = d.createElement('script');
            var disqus_shortname = 'laurentkempe';
            s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
          })();
        </script>
    




    </body>
</html>
