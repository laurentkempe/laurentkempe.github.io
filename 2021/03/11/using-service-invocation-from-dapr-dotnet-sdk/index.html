
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Laurent Kempé">
    <title>Using Service Invocation from Dapr .NET SDK - Laurent Kempé</title>
    <meta name="author" content="Laurent Kempé">
    
    
    
        
            <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
        
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Laurent Kempé","sameAs":["https://github.com/laurentkempe","https://twitter.com/laurentkempe","https://www.linkedin.com/in/laurentkempe","https://flickr.com/photos/laurentkempe/"],"image":"https://farm2.staticflickr.com/1971/31306281378_02b055ccfe_q.jpg"},"articleBody":"In the previous post “Getting started with Dapr for .NET Developers“ we have seen how easy it was to expose a web API written in .NET and the power of exposing it through Dapr sidecar. In this post, we are looking at the different possible ways to invoke that service.\n\n\nIntroductionDapr through its Service Invocation building block makes it easy to have your application reliably and securely communicate with other applications using the standard HTTP protocols.\nIt is possible to invoke service by just leveraging the HTTP protocol and a simple .NET HttpClient.\nCalling Dapr sidecar with .NET HttpClientCalling Dapr sidecar with .NET HttpClient1234567891011121314151617using System;using System.Collections.Generic;using System.Net.Http;using System.Net.Http.Json;using WeatherForecastServiceGrpcClient;var client = new HttpClient();var weatherForecasts =    await client.GetFromJsonAsync&lt;List&lt;WeatherForecast&gt;&gt;(        &quot;http://localhost:3500/v1.0/invoke/weatherforecastservice/method/weatherforecast&quot;);foreach (var weatherForecast in weatherForecasts)&#123;    Console.WriteLine(        $&quot;Date:&#123;weatherForecast.Date&#125;, TemperatureC:&#123;weatherForecast.TemperatureC&#125;, Summary:&#123;weatherForecast.Summary&#125;&quot;);&#125;\n\nAnd the results looks like this\nResults12345Date:3/10/2021 9:21:30 PM, TemperatureC:10, Summary:SwelteringDate:3/11/2021 9:21:30 PM, TemperatureC:-18, Summary:SwelteringDate:3/12/2021 9:21:30 PM, TemperatureC:17, Summary:FreezingDate:3/13/2021 9:21:30 PM, TemperatureC:-17, Summary:BracingDate:3/14/2021 9:21:30 PM, TemperatureC:-12, Summary:Chilly\n\nThis has the advantage that your code depends only on .NET, no third-party dependencies. The drawback is that you don’t get any help to build the URI to call the service.\nYou can get some help using the Dapr .NET SDK.\nCalling Dapr sidecar with Dapr HttpClientCalling Dapr sidecar with Dapr HttpClient1234567891011121314151617using System;using System.Collections.Generic;using System.Net.Http.Json;using Dapr.Client;using WeatherForecastServiceGrpcClient;var client = DaprClient.CreateInvokeHttpClient();var weatherForecasts =    await client.GetFromJsonAsync&lt;List&lt;WeatherForecast&gt;&gt;(        &quot;http://weatherforecastservice/weatherforecast&quot;);foreach (var weatherForecast in weatherForecasts)&#123;    Console.WriteLine(        $&quot;Date:&#123;weatherForecast.Date&#125;, TemperatureC:&#123;weatherForecast.TemperatureC&#125;, Summary:&#123;weatherForecast.Summary&#125;&quot;);&#125;\n\nWe get exactly the same output result but this time we just had to craft an easy URI “http://weatherforecastservice/weatherforecast&quot; composed only of the Dapr app-id and the method-name of our service.\nCalling Dapr sidecar with DaprClientCalling Dapr sidecar with Dapr .NET SDK1234567891011121314151617using System;using System.Collections.Generic;using System.Net.Http;using Dapr.Client;using WeatherForecastServiceGrpcClient;using var client = new DaprClientBuilder().Build();var weatherForecasts =    await client.InvokeMethodAsync&lt;List&lt;WeatherForecast&gt;&gt;(        HttpMethod.Get, &quot;weatherforecastservice&quot;, &quot;weatherforecast&quot;);            foreach (var weatherForecast in weatherForecasts)&#123;    Console.WriteLine(        $&quot;Date:&#123;weatherForecast.Date&#125;, TemperatureC:&#123;weatherForecast.TemperatureC&#125;, Summary:&#123;weatherForecast.Summary&#125;&quot;);&#125;\n\nUsing the DaprClient we only had to specify the HTTP method, the Dapr app-id and the method-name of our service.\nConclusionWe have seen the different ways developers can use .NET with and without Dapr .NET SDK to call a service exposed through a Dapr sidecar. For some more in-depth reading about that topic, I recommend you to read “The Dapr service invocation building block” from the Dapr for .NET Developers book.\n","dateCreated":"2021-03-11T15:51:49+00:00","dateModified":"2021-10-19T11:35:53+00:00","datePublished":"2021-03-11T15:51:49+00:00","description":"In the previous post “Getting started with Dapr for .NET Developers“ we have seen how easy it was to expose a web API written in .NET and the power of exposing it through Dapr sidecar. In this post, we are looking at the different possible ways to invoke that service.","headline":"Using Service Invocation from Dapr .NET SDK","image":["https://live.staticflickr.com/4403/36848905226_74956b7bea_q.jpg","https://live.staticflickr.com/4403/36848905226_5406f5d177_h.jpg"],"mainEntityOfPage":{"@type":"WebPage","@id":"https://laurentkempe.com/2021/03/11/using-service-invocation-from-dapr-dotnet-sdk/"},"publisher":{"@type":"Organization","name":"Laurent Kempé","sameAs":["https://github.com/laurentkempe","https://twitter.com/laurentkempe","https://www.linkedin.com/in/laurentkempe","https://flickr.com/photos/laurentkempe/"],"image":"https://farm2.staticflickr.com/1971/31306281378_02b055ccfe_q.jpg","logo":{"@type":"ImageObject","url":"https://farm2.staticflickr.com/1971/31306281378_02b055ccfe_q.jpg"}},"url":"https://laurentkempe.com/2021/03/11/using-service-invocation-from-dapr-dotnet-sdk/","keywords":".NET, Dapr","thumbnailUrl":"https://live.staticflickr.com/4403/36848905226_74956b7bea_q.jpg"}</script>
    <meta name="description" content="In the previous post “Getting started with Dapr for .NET Developers“ we have seen how easy it was to expose a web API written in .NET and the power of exposing it through Dapr sidecar. In this post, w">
<meta property="og:type" content="blog">
<meta property="og:title" content="Using Service Invocation from Dapr .NET SDK">
<meta property="og:url" content="https://laurentkempe.com/2021/03/11/using-service-invocation-from-dapr-dotnet-sdk/index.html">
<meta property="og:site_name" content="Laurent Kempé">
<meta property="og:description" content="In the previous post “Getting started with Dapr for .NET Developers“ we have seen how easy it was to expose a web API written in .NET and the power of exposing it through Dapr sidecar. In this post, w">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-03-11T15:51:49.000Z">
<meta property="article:modified_time" content="2021-10-19T11:35:53.893Z">
<meta property="article:author" content="Laurent Kempé">
<meta property="article:tag" content=".NET">
<meta property="article:tag" content="Dapr">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@laurentkempe">
    
    
        
    
    
        <meta property="og:image" content="https://farm2.staticflickr.com/1971/31306281378_02b055ccfe_q.jpg"/>
    
    
        <meta property="og:image" content="https://live.staticflickr.com/4403/36848905226_74956b7bea_q.jpg"/>
        <meta class="swiftype" name="image" data-type="enum" content="https://live.staticflickr.com/4403/36848905226_74956b7bea_q.jpg"/>
    
    
        <meta property="og:image" content="https://live.staticflickr.com/4403/36848905226_5406f5d177_h.jpg"/>
        <meta class="swiftype" name="image" data-type="enum" content="https://live.staticflickr.com/4403/36848905226_5406f5d177_h.jpg"/>
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/style-mqkeoo4gznuymibny0dhdi3wuo2a7opz2o5iprogjjfswscdpvp9vo3ihe8p.min.css">

    <!--STYLES END-->
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-64298-8"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-64298-8');
    </script>


    

    
        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="5">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            Laurent Kempé
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="Open the link: /#about"
            >
        
        
            <img class="header-picture" src="https://farm2.staticflickr.com/1971/31306281378_02b055ccfe_q.jpg" alt="Author&#39;s picture"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="5">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="Read more about the author"
                >
                    <img class="sidebar-profile-picture" src="https://farm2.staticflickr.com/1971/31306281378_02b055ccfe_q.jpg" alt="Author&#39;s picture"/>
                </a>
                <h4 class="sidebar-profile-name">Laurent Kempé</h4>
                
                    <h5 class="sidebar-profile-bio"><p>I am an experienced Team Leader &amp; Distinguished Solution Architect with a passion for shipping high-quality products by empowering development team and culture toward an agile mindset. I bring technical vision and strategy, leading engineering teams to move product, processes and architecture forward.</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="Archives"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/presentations.html"
                            
                            rel="noopener"
                            title="Presentations"
                        >
                        <i class="sidebar-button-icon fa fa-file-powerpoint" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Presentations</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/about-laurent-kempe.html"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/laurentkempe"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://twitter.com/laurentkempe"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Twitter"
                        >
                        <i class="sidebar-button-icon fab fa-twitter" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Twitter</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.linkedin.com/in/laurentkempe"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="LinkedIn"
                        >
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://flickr.com/photos/laurentkempe/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Flickr"
                        >
                        <i class="sidebar-button-icon fab fa-flickr" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Flickr</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="Tags"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="http://feeds.feedburner.com/laurentkempe"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
        <div class="post-header-cover
                    text-left
                    post-header-cover--partial"
             style="background-image:url('https://live.staticflickr.com/4403/36848905226_5406f5d177_h.jpg');"
             data-behavior="5">
            
                <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            Using Service Invocation from Dapr .NET SDK
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2021-03-11T15:51:49+00:00">
	
		    Mar 11, 2021
    	
    </time>
    
</div>

    
</div>

            
        </div>

            <div id="main" data-behavior="5"
                 class="hasCover
                        hasCoverMetaIn
                        hasCoverCaption">
                
<article class="post">
    
        <span class="post-header-cover-caption caption">Moorea, Polynésie française</span>
    
    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <p>In the previous post “<a href="https://laurentkempe.com/2021/03/09/getting-started-with-dapr-for-dotnet-developers/">Getting started with Dapr for .NET Developers</a>“ we have seen how easy it was to expose a web API written in .NET and the power of exposing it through Dapr sidecar. In this post, we are looking at the different possible ways to invoke that service.</p>
<span id="more"></span>

<h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p><a target="_blank" rel="noopener" href="https://dapr.io/">Dapr</a> through its <a target="_blank" rel="noopener" href="https://docs.dapr.io/developing-applications/building-blocks/service-invocation/service-invocation-overview/">Service Invocation building block</a> makes it easy to have your application reliably and securely communicate with other applications using the standard HTTP protocols.</p>
<p>It is possible to invoke service by just leveraging the HTTP protocol and a simple <a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/dotnet/api/system.net.http.httpclient?view=net-5.0">.NET HttpClient</a>.</p>
<h1 id="Calling-Dapr-sidecar-with-NET-HttpClient"><a href="#Calling-Dapr-sidecar-with-NET-HttpClient" class="headerlink" title="Calling Dapr sidecar with .NET HttpClient"></a>Calling Dapr sidecar with .NET HttpClient</h1><figure class="highlight csharp"><figcaption><span>Calling Dapr sidecar with .NET HttpClient</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Net.Http;</span><br><span class="line"><span class="keyword">using</span> System.Net.Http.Json;</span><br><span class="line"><span class="keyword">using</span> WeatherForecastServiceGrpcClient;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> client = <span class="keyword">new</span> HttpClient();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> weatherForecasts =</span><br><span class="line">    <span class="keyword">await</span> client.GetFromJsonAsync&lt;List&lt;WeatherForecast&gt;&gt;(</span><br><span class="line">        <span class="string">&quot;http://localhost:3500/v1.0/invoke/weatherforecastservice/method/weatherforecast&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (<span class="keyword">var</span> weatherForecast <span class="keyword">in</span> weatherForecasts)</span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(</span><br><span class="line">        <span class="string">$&quot;Date:<span class="subst">&#123;weatherForecast.Date&#125;</span>, TemperatureC:<span class="subst">&#123;weatherForecast.TemperatureC&#125;</span>, Summary:<span class="subst">&#123;weatherForecast.Summary&#125;</span>&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>And the results looks like this</p>
<figure class="highlight powershell"><figcaption><span>Results</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Date:<span class="number">3</span>/<span class="number">10</span>/<span class="number">2021</span> <span class="number">9</span>:<span class="number">21</span>:<span class="number">30</span> PM, TemperatureC:<span class="number">10</span>, Summary:Sweltering</span><br><span class="line">Date:<span class="number">3</span>/<span class="number">11</span>/<span class="number">2021</span> <span class="number">9</span>:<span class="number">21</span>:<span class="number">30</span> PM, TemperatureC:<span class="literal">-18</span>, Summary:Sweltering</span><br><span class="line">Date:<span class="number">3</span>/<span class="number">12</span>/<span class="number">2021</span> <span class="number">9</span>:<span class="number">21</span>:<span class="number">30</span> PM, TemperatureC:<span class="number">17</span>, Summary:Freezing</span><br><span class="line">Date:<span class="number">3</span>/<span class="number">13</span>/<span class="number">2021</span> <span class="number">9</span>:<span class="number">21</span>:<span class="number">30</span> PM, TemperatureC:<span class="literal">-17</span>, Summary:Bracing</span><br><span class="line">Date:<span class="number">3</span>/<span class="number">14</span>/<span class="number">2021</span> <span class="number">9</span>:<span class="number">21</span>:<span class="number">30</span> PM, TemperatureC:<span class="literal">-12</span>, Summary:Chilly</span><br></pre></td></tr></table></figure>

<p>This has the advantage that your code depends only on .NET, no third-party dependencies. The drawback is that you don’t get any help to build the URI to call the service.</p>
<p>You can get some help using the <a target="_blank" rel="noopener" href="https://github.com/dapr/dotnet-sdk">Dapr .NET SDK</a>.</p>
<h1 id="Calling-Dapr-sidecar-with-Dapr-HttpClient"><a href="#Calling-Dapr-sidecar-with-Dapr-HttpClient" class="headerlink" title="Calling Dapr sidecar with Dapr HttpClient"></a>Calling Dapr sidecar with Dapr HttpClient</h1><figure class="highlight csharp"><figcaption><span>Calling Dapr sidecar with Dapr HttpClient</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Net.Http.Json;</span><br><span class="line"><span class="keyword">using</span> Dapr.Client;</span><br><span class="line"><span class="keyword">using</span> WeatherForecastServiceGrpcClient;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> client = DaprClient.CreateInvokeHttpClient();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> weatherForecasts =</span><br><span class="line">    <span class="keyword">await</span> client.GetFromJsonAsync&lt;List&lt;WeatherForecast&gt;&gt;(</span><br><span class="line">        <span class="string">&quot;http://weatherforecastservice/weatherforecast&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (<span class="keyword">var</span> weatherForecast <span class="keyword">in</span> weatherForecasts)</span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(</span><br><span class="line">        <span class="string">$&quot;Date:<span class="subst">&#123;weatherForecast.Date&#125;</span>, TemperatureC:<span class="subst">&#123;weatherForecast.TemperatureC&#125;</span>, Summary:<span class="subst">&#123;weatherForecast.Summary&#125;</span>&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>We get exactly the same output result but this time we just had to craft an easy URI <em>“<a target="_blank" rel="noopener" href="http://weatherforecastservice/weatherforecast&quot;">http://weatherforecastservice/weatherforecast&quot;</a></em> composed only of the Dapr <strong>app-id</strong> and the <strong>method-name</strong> of our service.</p>
<h1 id="Calling-Dapr-sidecar-with-DaprClient"><a href="#Calling-Dapr-sidecar-with-DaprClient" class="headerlink" title="Calling Dapr sidecar with DaprClient"></a>Calling Dapr sidecar with DaprClient</h1><figure class="highlight csharp"><figcaption><span>Calling Dapr sidecar with Dapr .NET SDK</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Net.Http;</span><br><span class="line"><span class="keyword">using</span> Dapr.Client;</span><br><span class="line"><span class="keyword">using</span> WeatherForecastServiceGrpcClient;</span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">var</span> client = <span class="keyword">new</span> DaprClientBuilder().Build();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> weatherForecasts =</span><br><span class="line">    <span class="keyword">await</span> client.InvokeMethodAsync&lt;List&lt;WeatherForecast&gt;&gt;(</span><br><span class="line">        HttpMethod.Get, <span class="string">&quot;weatherforecastservice&quot;</span>, <span class="string">&quot;weatherforecast&quot;</span>);</span><br><span class="line">            </span><br><span class="line"><span class="keyword">foreach</span> (<span class="keyword">var</span> weatherForecast <span class="keyword">in</span> weatherForecasts)</span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(</span><br><span class="line">        <span class="string">$&quot;Date:<span class="subst">&#123;weatherForecast.Date&#125;</span>, TemperatureC:<span class="subst">&#123;weatherForecast.TemperatureC&#125;</span>, Summary:<span class="subst">&#123;weatherForecast.Summary&#125;</span>&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Using the DaprClient we only had to specify the <strong>HTTP method</strong>, the Dapr <strong>app-id</strong> and the <strong>method-name</strong> of our service.</p>
<h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>We have seen the different ways developers can use .NET with and without Dapr .NET SDK to call a service exposed through a Dapr sidecar. For some more in-depth reading about that topic, I recommend you to read <a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/dotnet/architecture/dapr-for-net-developers/service-invocation">“The Dapr service invocation building block”</a> from the <a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/dotnet/architecture/dapr-for-net-developers/">Dapr for .NET Developers book</a>.</p>

            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="/tags/NET/" rel="tag">.NET</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/Dapr/" rel="tag">Dapr</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2021/03/16/service-to-service-invocation-with-dapr-dotnet-sdk/"
                    data-tooltip="Service to service invocation with Dapr .NET SDK"
                    aria-label="PREVIOUS: Service to service invocation with Dapr .NET SDK"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2021/03/09/getting-started-with-dapr-for-dotnet-developers/"
                    data-tooltip="Getting started with Dapr for .NET Developers"
                    aria-label="NEXT: Getting started with Dapr for .NET Developers"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://laurentkempe.com/2021/03/11/using-service-invocation-from-dapr-dotnet-sdk/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://laurentkempe.com/2021/03/11/using-service-invocation-from-dapr-dotnet-sdk/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://laurentkempe.com/2021/03/11/using-service-invocation-from-dapr-dotnet-sdk/"
                    title="global.share_on_linkedin"
                    aria-label="global.share_on_linkedin"
                >
                    <i class="fab fa-linkedin" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#disqus_thread"
                        aria-label="Leave a comment"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
                <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2021 Laurent Kempé. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2021/03/16/service-to-service-invocation-with-dapr-dotnet-sdk/"
                    data-tooltip="Service to service invocation with Dapr .NET SDK"
                    aria-label="PREVIOUS: Service to service invocation with Dapr .NET SDK"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2021/03/09/getting-started-with-dapr-for-dotnet-developers/"
                    data-tooltip="Getting started with Dapr for .NET Developers"
                    aria-label="NEXT: Getting started with Dapr for .NET Developers"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://laurentkempe.com/2021/03/11/using-service-invocation-from-dapr-dotnet-sdk/"
                    title="Share on Facebook"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://laurentkempe.com/2021/03/11/using-service-invocation-from-dapr-dotnet-sdk/"
                    title="Share on Twitter"
                    aria-label="Share on Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://laurentkempe.com/2021/03/11/using-service-invocation-from-dapr-dotnet-sdk/"
                    title="global.share_on_linkedin"
                    aria-label="global.share_on_linkedin"
                >
                    <i class="fab fa-linkedin" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#disqus_thread"
                        aria-label="Leave a comment"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="5">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://laurentkempe.com/2021/03/11/using-service-invocation-from-dapr-dotnet-sdk/"
                        aria-label="Share on Facebook"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Share on Facebook</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://laurentkempe.com/2021/03/11/using-service-invocation-from-dapr-dotnet-sdk/"
                        aria-label="Share on Twitter"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Share on Twitter</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://laurentkempe.com/2021/03/11/using-service-invocation-from-dapr-dotnet-sdk/"
                        aria-label="global.share_on_linkedin"
                    >
                        <i class="fab fa-linkedin" aria-hidden="true"></i><span>global.share_on_linkedin</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="https://farm2.staticflickr.com/1971/31306281378_02b055ccfe_q.jpg" alt="Author&#39;s picture"/>
        
            <h4 id="about-card-name">Laurent Kempé</h4>
        
            <div id="about-card-bio"><p>I am an experienced Team Leader &amp; Distinguished Solution Architect with a passion for shipping high-quality products by empowering development team and culture toward an agile mindset. I bring technical vision and strategy, leading engineering teams to move product, processes and architecture forward.</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Team Leader, Distinguished Solutions Architect</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br/>
                Illzach, France
            </div>
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('https://farm5.staticflickr.com/4437/37116073235_dda239221d_o.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/script-pbmkztfll2bgeccdb8lz2bp0pkbr7pqhtarvvypa7ayf7ftztzqbcnxudqxk.min.js"></script>

<!--SCRIPTS END-->


    
        <script>
          var disqus_config = function() {
            this.page.url = 'https://laurentkempe.com/2021/03/11/using-service-invocation-from-dapr-dotnet-sdk/';
              
            this.page.identifier = '20210311045149';
              
          };
          (function() {
            var d = document, s = d.createElement('script');
            var disqus_shortname = 'laurentkempe';
            s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
          })();
        </script>
    




    </body>
</html>
